{
  "openapi":"3.0.1",
  "servers":[
    {
      "description":"API para a entidade Professionals (Profissionais) do segmento HealthCare para produtos TOTVS",
      "url":"api.totvs.com.br"
    }
  ],
  "info":{
    "description":"API para a entidade Professionals (Profissionais) do segmento HealthCare para produtos TOTVS",
    "version":"2.000",
    "title":"Professionals",
    "contact":{
      "name":"T-Talk",
      "url":"api.Totvs.com.br",
      "email":"comiteintegracao@totvs.com.br"
    },
    "x-totvs":{
      "messageDocumentation":{
        "name":"Professionals",
        "description":"Professionals",
        "segment":"HealthCare"
      },
      "productInformation":[
        {
          "product":"hat",
          "contact":"hat@totvs.com.br",
          "description":"Profissionais",
          "adapter":"RestBeneficiario.prw"
        }
      ]
    }
  },
  "paths":{
    "/professionals":{
      "get":{
        "tags":[
          "collection"
        ],
        "summary":"Retorna informacoes dos Profissionais",
        "x-totvs":{
          "productInformation":[
            {
              "product":"hat",
              "avaliable":true,
              "minimalVersion":""
            },
            {
              "product":"central-obrigacoes",
              "avaliable":true,
              "minimalVersion":""
            }
          ]
        },
        "description":"Retorna um lote de profissional de acordo com os parametros enviados",
        "operationId":"getLotBenef",
        "parameters":[
          {
            "$ref":"#/components/parameters/Authorization"
          },
          {
            "$ref":"#/components/parameters/Fields"
          },
          {
            "$ref":"#/components/parameters/Expires_at"
          },
          {
            "$ref":"#/components/parameters/Expand"
          }
        ],
        "responses":{
          "200":{
            "description":"Operação realizada com sucesso!",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/professional"
                }
              }
            }
          },
          "404":{
            "description":"Erro ao localizar profissional",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/ErrorDetails"
                }
              }
            }
          }
        }
      },
      "post":{
        "tags":[
          "collection"
        ],
        "summary":"Inclusão de profissional",
        "x-totvs":{
          "productInformation":[
            {
              "product":"hat",
              "avaliable":true,
              "minimalVersion":"",
              "note":"E possivel realizar a inclusão de uma coleção ou um unico profissional. Para realizar a inclusao de apenas um, enviar o body com o padrão de paginação"
            },
            {
              "product":"central-obrigacoes",
              "avaliable":true,
              "minimalVersion":"",
              "note":""
            }
          ]
        },
        "description":"Realiza a inclusão de um profissional conforme body da requisição.",
        "operationId":"postBenef",
        "parameters":[
          {
            "$ref":"#/components/parameters/Authorization"
          },
          {
            "$ref":"#/components/parameters/Expires_at"
          },
          {
            "$ref":"#/components/parameters/Expand"
          },
          {
            "$ref":"#/components/parameters/Fields"
          }
        ],
        "requestBody":{
          "description":"Beneficiario a ser incluído.",
          "content":{
            "application/json":{
              "schema":{
                "oneOf":[
                  {
                    "$ref":"#/components/schemas/professional"
                  },
                  {
                    "$ref":"#/components/schemas/PagedProfessional"
                  }
                ]
              }
            }
          }
        },
        "responses":{
          "201":{
            "description":"Operação realizada com sucesso!",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/professional"
                }
              }
            }
          },
          "400":{
            "description":"Erro durante inclusão do profissional",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/ErrorDetails"
                }
              }
            }
          }
        }
      }
    },
    "/professionals/{professionalId}":{
      "parameters":[
        {
          "$ref":"#/components/parameters/professionalId"
        }
      ],
      "get":{
        "tags":[
          "single"
        ],
        "summary":"Retorna informacoes dos Profissionais",
        "x-totvs":{
          "productInformation":[
            {
              "product":"hat",
              "avaliable":true,
              "minimalVersion":""
            },
            {
              "product":"central-obrigacoes",
              "avaliable":true,
              "minimalVersion":""
            }
          ]
        },
        "description":"Retorna um profissional de acordo com o ID informado",
        "operationId":"getBenef",
        "parameters":[
          {
            "$ref":"#/components/parameters/Authorization"
          },
          {
            "$ref":"#/components/parameters/Fields"
          },
          {
            "$ref":"#/components/parameters/Expires_at"
          },
          {
            "$ref":"#/components/parameters/Expand"
          }
        ],
        "responses":{
          "200":{
            "description":"Operação realizada com sucesso!",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/professional"
                }
              }
            }
          },
          "404":{
            "description":"Erro ao localizar profissional",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/ErrorDetails"
                }
              }
            }
          }
        }
      },
      "put":{
        "tags":[
          "single"
        ],
        "summary":"Altera informacoes do Profissionais",
        "x-totvs":{
          "productInformation":[
            {
              "product":"hat",
              "avaliable":true,
              "minimalVersion":""
            },
            {
              "product":"central-obrigacoes",
              "avaliable":true,
              "minimalVersion":""
            }
          ]
        },
        "description":"Altera informações do profissional de acordo com o ID informado",
        "operationId":"putBenef",
        "parameters":[
          {
            "$ref":"#/components/parameters/Authorization"
          },
          {
            "$ref":"#/components/parameters/Fields"
          },
          {
            "$ref":"#/components/parameters/Expires_at"
          },
          {
            "$ref":"#/components/parameters/Expand"
          }
        ],
        "requestBody":{
          "description":"Beneficiario a ser incluído.",
          "content":{
            "application/json":{
              "schema":{
                "$ref":"#/components/schemas/professional"
              }
            }
          }
        },
        "responses":{
          "200":{
            "description":"Operação realizada com sucesso!",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/professional"
                }
              }
            }
          },
          "400":{
            "description":"Dados do beneficiário invalido"
          },
          "404":{
            "description":"Beneficiário(s) nao encontrado(s).",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/ErrorDetails"
                }
              }
            }
          }
        }
      },
      "delete":{
        "tags":[
          "single"
        ],
        "summary":"Deleta um profissional",
        "x-totvs":{
          "productInformation":[
            {
              "product":"central-obrigacoes",
              "avaliable":true,
              "minimalVersion":"",
              "note":""
            }
          ]
        },
        "description":"Deleta um profissional conforme ID enviado.",
        "operationId":"deleteBenef",
        "parameters":[
          {
            "$ref":"#/components/parameters/Authorization"
          },
          {
            "$ref":"#/components/parameters/Expires_at"
          },
          {
            "$ref":"#/components/parameters/healthInsurerCode"
          }
        ],
        "responses":{
          "204":{
            "description":"Operação realizada com sucesso!"
          },
          "404":{
            "description":"Beneficiário não localizado.",
            "content":{
              "application/json":{
                "schema":{
                  "$ref":"#/components/schemas/ErrorDetails"
                }
              }
            }
          }
        }
      }
    }
  },
  "components":{
    "parameters":{
      "Expand":{
        "name":"expand",
        "in":"query",
        "description":"Listas de campos a serem expandidos no retorno da requisição",
        "required":false,
        "schema":{
          "type":"array",
          "items":{
            "type":"string"
          }
        }
      },
      "Fields":{
        "name":"fields",
        "in":"query",
        "description":"Listas de campos no retorno da requisição",
        "required":false,
        "schema":{
          "type":"array",
          "items":{
            "type":"string"
          }
        }
      },
      "Authorization":{
        "name":"authorization",
        "in":"header",
        "required":false,
        "description":"Cabeçalho usado para autorização das requisições",
        "schema":{
          "type":"string"
        }
      },
      "Expires_at":{
        "name":"expires_at",
        "in":"header",
        "required":false,
        "description":"Tempo de expiracao do token",
        "schema":{
          "type":"string"
        }
      },
      "Order":{
        "name":"order",
        "in":"query",
        "description":"Ordenação da Coleção",
        "required":false,
        "schema":{
          "type":"array",
          "items":{
            "type":"string"
          }
        }
      },
      "Page":{
        "name":"page",
        "in":"query",
        "description":"Paginação da Coleção",
        "required":false,
        "schema":{
          "type":"integer",
          "format":"int32",
          "default":1,
          "minimum":1,
          "exclusiveMinimum":false
        }
      },
      "PageSize":{
        "name":"pageSize",
        "in":"query",
        "description":"Quantidade de Itens por Página",
        "required":false,
        "schema":{
          "type":"integer",
          "format":"int32",
          "default":20
        }
      },
      "professionalId":{
        "name":"professionalId",
        "in":"path",
        "required":true,
        "description":"Quantidade de Itens por Página",
        "schema":{
          "type":"boolean"
        }
      },
      "healthInsurerCode":{
        "name":"healthInsurerCode",
        "in":"query",
        "description":"Código da operadora",
        "schema":{
          "type":"integer",
          "format":"int32",
          "default":20
        },
        "x-totvs":[
          {
            "product":"Central de Obrigações",
            "field":"B3K.B3K_CODOPE",
            "required":true,
            "type":"string",
            "length":"6",
            "note":"Código da operadora",
            "available":true
          }
        ]
      }
    },
    "schemas":{
      "PagedProfessional":{
        "type":"object",
        "allOf":[
          {
            "$ref":"#/components/schemas/Paging"
          },
          {
            "$ref":"#/components/schemas/professionals"
          }
        ]
      },
      "professionals":{
        "type":"object",
        "properties":{
          "items":{
            "type":"array",
            "items":{
              "$ref":"#/components/schemas/professional"
            }
          }
        }
      },
      "professional":{
        "type":"object",
        "properties":{
          "idOnHealthInsurer":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_CODIGO",
                "required":false,
                "type":"string",
                "length":"6",
                "note":"Codigo de identificacao do Profissional na Operadora",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "professionalIdentifier":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_CGC",
                "required":false,
                "type":"string",
                "length":"14",
                "note":"Codigo do CPF do Profissional",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "professionalCouncil":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_CODSIG",
                "required":false,
                "type":"string",
                "length":"",
                "note":"",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "name":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_NOME",
                "required":false,
                "type":"string",
                "length":"40",
                "note":"Nome do Profissional",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "professionalCouncilNumber":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_NUMCR",
                "required":false,
                "type":"string",
                "length":"15",
                "note":"Cadastro do Profissiona no Conselho Regional de sua atuacao",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "stateAbbreviation":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BB0.BB0_UF",
                "required":false,
                "type":"string",
                "length":"2",
                "note":"Codigo do UF de acordo com a Terminologia TISS",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "cbos":{
            "$ref":"#/components/schemas/cbos"
          }
        }
      },
      "cbos":{
        "title":"cbos",
        "type":"object",
        "properties":{
          "codigo":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BQ1.BQ1_CODIGO",
                "required":false,
                "type":"string",
                "length":"6",
                "note":"Codigo do CBOS da especialidade do atendimento",
                "available":true,
                "canUpdate":true
              }
            ]
          },
          "descricao":{
            "description":"",
            "type":"string",
            "x-totvs":[
              {
                "product":"hat",
                "field":"BQ1.BQ1_DESCRI",
                "required":false,
                "type":"string",
                "length":"50",
                "note":"",
                "available":true,
                "canUpdate":true
              }
            ]
          }
        }
      },
      "Paging":{
        "type":"object",
        "properties":{
          "hasNext":{
            "type":"boolean",
            "example":false
          }
        }
      },
      "ErrorDetails":{
        "type":"object",
        "allOf":[
          {
            "$ref":"#/components/schemas/ErrorModel"
          },
          {
            "$ref":"#/components/schemas/ErrorDetail"
          }
        ]
      },
      "ErrorModel":{
        "type":"object",
        "properties":{
          "code":{
            "type":"string",
            "description":"Código identificador do erro."
          },
          "message":{
            "type":"string",
            "description":"Literal no idioma da requisição descrevendo o erro para o usuário."
          },
          "detailedMessage":{
            "type":"string",
            "format":"uri",
            "description":"Mensagem técnica e mais detalhada do erro."
          },
          "helpUrl":{
            "type":"string",
            "format":"uri",
            "description":"URI para documentação do erro."
          }
        }
      },
      "ErrorDetail":{
        "type":"object",
        "properties":{
          "details":{
            "type":"array",
            "items":{
              "$ref":"#/components/schemas/ErrorModel"
            }
          }
        }
      }
    }
  }
}