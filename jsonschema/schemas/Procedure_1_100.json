{
  "$schema": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/Authorization/V1/1_100/jsonschema/schemas/Authorization_1_100.json#",
  "info": {
    "description": "Contrato de Mensagem Padronizada para procedimentos/eventos em saúde",
    "version": "1.100",
    "title": "Procedure",
    "contact": {
      "name": "T-Talk",
      "url": "http://api.totvs.com.br",
      "email": "comiteintegracao@totvs.com.br"
    },
    "x-totvs": {
      "messageDocumentation": {
        "name": "Procedure",
        "description": "Procedimentos/Eventos em saúde",
        "segment": "HealthCare"
      },
      "productInformation": [
        {
          "product": "HAT",
          "contact": "healthcare.autorizador@totvs.com.br",
          "description": "Plataforma de autorização de procedimentos e eventos em Saúde"
        }
      ]
    }
  },
  "definitions": {
    "PagedProcedures": {
      "type": "object",
      "allOf": [
        {
          "$ref": "https://raw.githubusercontent.com/totvs/ttalk-standard-message/master/jsonschema/apis/types/totvsApiTypesBase.json#/definitions/Paging"
        },
        {
          "type": "object",
          "properties": {
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Procedure"
              }
            }
          }
        }
      ]
    },
    "Procedure": {
      "type": "object",
      "properties": {
        "tableCode": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureCode": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureDescription": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureType": {
          "description": "",
          "type": "string",
          "enum": [
            "0 - Procedimento",
            "1 - Material",
            "2 - Medicamento",
            "3 - Taxas",
            "4 - Diarias",
            "P - Ortese",
            "6 - Pacote",
            "M - Gases",
            "8 - Alugueis",
            "9 - Outros"
          ],
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        }
      }
    },
    "ProcedureData": {
      "type": "object",
      "properties": {
        "tableCode": {
          "description": "Codigo da tabela do procedimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_CODPAD",
              "required": false,
              "type": "string",
              "length": "2",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "status": {
          "description": "Status do procedimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_STATUS",
              "required": false,
              "type": "string",
              "length": "1",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureCode": {
          "description": "Codigo do procedimento na tabela de terminologias TISS",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_CODPRO",
              "required": false,
              "type": "string",
              "length": "16",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "requestedQuantity": {
          "description": "Quantidade solicitada",
          "type": "number",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_QTDSOL",
              "required": false,
              "type": "float",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureDescription": {
          "description": "Descricao/Nome do procedimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BR8.BR8_DESCRI",
              "required": false,
              "type": "string",
              "length": "230",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "procedureType": {
          "description": "",
          "type": "string",
          "enum": [
            "0 - Procedimento",
            "1 - Material",
            "2 - Medicamento",
            "3 - Taxas",
            "4 - Diarias",
            "P - Ortese",
            "6 - Pacote",
            "M - Gases",
            "8 - Alugueis",
            "9 - Outros"
          ],
          "x-totvs": [
            {
              "product": "hat",
              "field": "BR8.BR8_TPPROC",
              "required": false,
              "type": "string",
              "length": "1",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "authorizedQuantity": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_QTDPRO",
              "required": false,
              "type": "float",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "balance": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_balance",
              "required": false,
              "type": "float",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "accessWay": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_VIA",
              "required": false,
              "type": "string",
              "length": "1",
              "note": "Via de acesso utilizada",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "usedTechnique": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_TECUTI",
              "required": false,
              "type": "string",
              "length": "1",
              "note": "Tecnica utilizada",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "increaseDecrease": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_PRPRRL",
              "required": false,
              "type": "float",
              "note": "Percentual de reducao/acrescimo do valor do procedimento",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "unitaryWorth": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_VLRAPR",
              "required": false,
              "type": "float",
              "note": "Valor apresentado do procedimento",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "totalWorth": {
          "description": "",
          "type": "number",
          "x-totvs": [
            {
              "product": "hat",
              "required": false,
              "type": "number",
              "note": "Nao possui campo, gerado de acordo com a quantidade * valor unitario",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "endingTime": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_HORFIM",
              "required": false,
              "type": "string",
              "length": "4",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "startingTime": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_HORPRO",
              "required": false,
              "type": "string",
              "length": "4",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "executionDate": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BE2.BE2_DATPRO",
              "required": false,
              "type": "string",
              "length": "8",
              "note": "Data de execucao do procedimento",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "medicalTeam": {
          "$ref": "#/definitions/MedicalTeam"
        },
        "rejectionCauses": {
          "$ref": "#/definitions/RejectionCauses"
        }
      }
    },
    "MedicalTeam": {
      "type": "object",
      "properties": {
        "participationDegree": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "seqRef": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "",
              "required": false,
              "type": "",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "professionals": {
          "$ref": "#/definitions/Professionals"
        }
      }
    },
    "Professionals": {
      "type": "object",
      "properties": {
        "idOnHealthInsurer": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_CODIGO",
              "required": false,
              "type": "string",
              "length": "6",
              "note": "Codigo de identificacao do Profissional na Operadora",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "professionalIdentifier": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_CGC",
              "required": false,
              "type": "string",
              "length": "14",
              "note": "Codigo do CPF do Profissional",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "professionalCouncil": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_CODSIG",
              "required": false,
              "type": "string",
              "length": "",
              "note": "",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "name": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_NOME",
              "required": false,
              "type": "string",
              "length": "40",
              "note": "Nome do Profissional",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "professionalCouncilNumber": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_NUMCR",
              "required": false,
              "type": "string",
              "length": "15",
              "note": "Cadastro do Profissiona no Conselho Regional de sua atuacao",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "stateAbbreviation": {
          "description": "",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BB0.BB0_UF",
              "required": false,
              "type": "string",
              "length": "2",
              "note": "Codigo do UF de acordo com a Terminologia TISS",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "cbos": {
          "$ref": "#/definitions/Cbos"
        }
      }
    },
    "Cbos": {
      "title": "cbos",
      "type": "object",
      "properties": {
        "cbosCode": {
          "description": "Codigo do CBOS da especialidade do atendimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BQ1.BQ1_CODIGO",
              "required": false,
              "type": "string",
              "length": "6",
              "note": "Codigo do CBOS da especialidade do atendimento",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "description": {
          "description": "Descricao do CBOS da especialidade do atendimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "field": "BQ1.BQ1_DESCRI",
              "required": false,
              "type": "string",
              "length": "50",
              "note": "Descricao do CBOS da especialidade do atendimento",
              "available": true,
              "canUpdate": true
            }
          ]
        }
      }
    },
    "RejectionCauses": {
      "title": "rejectionCauses",
      "type": "object",
      "properties": {
        "code": {
          "description": "Codigo do motivo ao qual foi negado o atendimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "required": false,
              "type": "string",
              "length": "4",
              "note": "Nao possui campo pois trata-se de um atributo informativo",
              "available": true,
              "canUpdate": true
            }
          ]
        },
        "description": {
          "description": "Descricao do motivo ao qual foi negado o atendimento",
          "type": "string",
          "x-totvs": [
            {
              "product": "hat",
              "required": false,
              "type": "string",
              "length": "500",
              "note": "Nao possui campo pois trata-se de um atributo informativo",
              "available": true,
              "canUpdate": true
            }
          ]
        }
      }
    }
  }
}